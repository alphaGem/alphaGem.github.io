---
layout: post
title: 遗传算法
categories: OI
tags: 信息竞赛
---



遗传算法是一种神奇的近似算法，可以近似解决很多问题，写得好的话最优化问题可能可以多拿分<del>，有的时候搞不好还能踩标算</del>。

### 遗传算法是怎么工作的？

遗传算法的idea来自于达尔文进化论，所以一起复习一下生物知识吧x

--------------------------------------------------我是一条分割线w--------------------------------------------------

首先是一些**定义**

（接下来开始假的生物）（可能连定义都是不准确的）

####基因

基因是一个串，通常会是一个零一串，有的时候也会是其它类型的串。

#### 个体

个体是一个携带有基因的奇怪东西(?)，个体之间可以交配，体现为基因串的杂糅。

以下内容中，所有个体组成的集合记作 $S$。

#### 适应函数

评估一个个体的好坏的一个函数。因为要进行自然选择，所以适应函数的设计挺重要的吧。

以下内容中，适应函数记作 $f$，一个个体 $u$ 的适应函数值可能被记作 $f_u$ 或者 $f(u)$。

####环境

由适应函数和选择方式构成。承担起筛选个体的任务。

------------------------------------------------我是另一条分割线w------------------------------------------------

遗传算法的一轮过程大概如下：

#### I. 交配

找出两个优秀的个体，然后让它们两个交配（看起来不用考虑性别强行无性繁殖w）

交配的方式大概如下：

1. 交叉法

   记两个交配的串分别为 $S$ 与 $T$，长度均为 $n$，则选择一个值 $k\in[1,n)$，将 $S[1..k)$ 与 $T[k..n]$ 拼接在一起得到新串。

2. ​

#### II. 变异

对于新生成的个体进行变异操作，引入新的个体，不然可能遗传到后面大家就都长一样了呀。

变异的方式大概如下

#### III. 修补/雕琢（可选）

有的时候我们可能会造出不合法的解，这样我们就有两种应对方法：丢弃和修补。当不合法解出现概率低或不会遗传出不合法解的时候可以直接丢弃，不然我们就要考虑修补解。修补解通常可以使用小规模爆搜，设计启发函数并以此为基础进行贪心等方法。

有的时候我们可能会生成有冗余成分的解，这是我们可以考虑按一定概率对这个解进行雕琢，把冗余部分去掉。这样可以保证个体更优，但有丧失种群多样性的弊端，需要权衡调整。

这两个东西都是比较需要具体问题具体分析的。

#### IV. 选择

对于各个个体计算它们的适应函数，并且按照适应函数的值按概率保留最优秀的一部分解进入下一轮遗传。

选择的方式大概如下

如果所有个体的适应值的和是 $C=\sum_{u\in S}f(u)$，对于一个个体 $u$，如果它的适应值为 $f(u)$，则可以设计为它有 $\frac{f(u)}C$ 的概率存活到下一轮。

然后我们就回到步骤I，直到我们觉得遗传得差不多了为止。



###看起来很厉害，那碰上实际问题怎么用呢？

接下来举个栗子x

