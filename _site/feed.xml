<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>alphaGem&#39;s blog</title>
    <description>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</description>
    <link>https://alphagem.github.io/</link>
    <atom:link href="https://alphagem.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 25 Dec 2018 11:33:45 +0800</pubDate>
    <lastBuildDate>Tue, 25 Dec 2018 11:33:45 +0800</lastBuildDate>
    <generator>Jekyll v3.0.1</generator>
    
      <item>
        <title>python画图科技</title>
        <description>&lt;p&gt;学信息技术如此之久，始终在与终端和纯文本打交道。无力于图像处理许久了，直到前段时间知道了如何用python操作图片文件。尽管程序的界面仍是终端的，但毕竟还是能跟图形与色彩打点交道……&lt;/p&gt;

&lt;p&gt;又或者，比赛的时候，可以以此画一些较为精准的图片，以此帮助分析。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;基本操作&lt;/h3&gt;

&lt;p&gt;首先，需要有 &lt;code class=&quot;highlighter-rouge&quot;&gt;Image&lt;/code&gt; 库。NOI Linux是自带 &lt;code class=&quot;highlighter-rouge&quot;&gt;Image&lt;/code&gt; 库的。有些时候电脑里会找不到 &lt;code class=&quot;highlighter-rouge&quot;&gt;Image&lt;/code&gt; 库，这时不妨试试 &lt;code class=&quot;highlighter-rouge&quot;&gt;PIL.Image&lt;/code&gt;，看有没有这个库，毕竟是同出而异名。再没有，就用 &lt;code class=&quot;highlighter-rouge&quot;&gt;pip&lt;/code&gt; 安装好了。&lt;/p&gt;

&lt;p&gt;然后是一些约定：我们管一个有序数对 $(a,b)$ 叫做“坐标”，它代表图片上的一个位置，其中 $a$ 代表这在图片的从左到右第几列，$b$ 代表这在图片的从上到下第几行，从 $0$ 开始编号。管一个整数三元组 $(R,G,B)$ 叫作“颜色”。&lt;/p&gt;

&lt;p&gt;接着是一些函数——如果没有理解如何使用，可以看这段后面底下的实例运用一节。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;新建图像&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这会返回一个类型为 &lt;code class=&quot;highlighter-rouge&quot;&gt;Image.Image&lt;/code&gt; 的变量，是最开始的操作。其中，&lt;code class=&quot;highlighter-rouge&quot;&gt;mode&lt;/code&gt;代表配色类型，输入一个字符串，一般用&lt;code class=&quot;highlighter-rouge&quot;&gt;&#39;RGB&#39;&lt;/code&gt;；&lt;code class=&quot;highlighter-rouge&quot;&gt;size&lt;/code&gt;是图片大小，是一个有序数对 $(x,y)$，代表宽为 $x$，高为 $y$。&lt;/p&gt;

&lt;p&gt;举个例子：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;RGB&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这样，&lt;code class=&quot;highlighter-rouge&quot;&gt;im&lt;/code&gt; 就是一张RGB配色，宽2000像素，高1000像素的白底图片。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;更改像素&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;putpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;举个例子：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;putpipxel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这样相当于把坐标为 $(500,300)$ 的像素涂成红色。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;保存图片&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;举个例子：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;qwq.png&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这样，&lt;code class=&quot;highlighter-rouge&quot;&gt;im&lt;/code&gt; 就会被保存为一个名字叫做qwq的png文件啦！&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;实例运用&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Attractor#Nonlinear_equation_or_system&quot;&gt;吸引子-英文维基百科&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;在这个条目的 Basins of attraction 一章的 Nonlinear equation or system 一节，我们可以看到一张图，下面附有这样一段文字：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Basins of attraction in the complex plane for using Newton’s method to solve $x^5 − 1 = 0$. Points in like-colored regions map to the same root; darker means more iterations are needed to converge.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;也就是说，我们对一个复平面进行着色。着色的方式如下：&lt;/p&gt;

&lt;p&gt;我们有一个方程 $x^5-1=0$。对于复平面上的点 $(a,b)$，它对应的复数是 $a+bi$。这时候考虑把 $a+bi$ 塞进这个方程进行牛顿迭代，对于大部分的点，它都会收敛到这个方程的五个解之一。我们就根据这个点收敛到哪一个解，对它上色，一种点对应一种颜色。同时为了美观，我们把迭代次数较多的点颜色调得深一些，防止出现糟糕的颜色突变。&lt;/p&gt;

&lt;p&gt;代码如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;math&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;omeg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.6&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0000001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0000001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0000002&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;equ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;real&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;real&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imag&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imag&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;La&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;real&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;real&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;40.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;newt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;equ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;omeg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]):&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Image&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;ImageDraw&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;RGB&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ImageDraw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;now at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;200.0&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;200.0&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;complex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;dr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rectangle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;qwq.png&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这段代码会绘制一张 $2000\times 2000$ 大小的图。运行这段代码，耐心等待屏幕上的数字从 $-1000$ 变为 $1000$，代码所在的目录下就会多出一张 qwq.png，长这样：（懒得调颜色，直接用了五种比较纯的颜色……）&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-09-19-qwq.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;因为所有内容都是 python 写的，所以跑得格外的慢……如果嫌慢的话其实可以先用 C/C++ 处理好所有的数据，把每个像素的值写进一个文件，然后让 python 直接把这个文件转成图片。或者用 Cython 之类的科技应该也是可行的（可惜考场没有）。同时值得注意的是，图像处理的时候有可能会有一些可以并行的操作，如果你的 CPU 是多核的，可以在 C/C++ 预处理的时候把这些操作分开写成多个可执行文件一起跑，压榨电脑性能。&lt;/p&gt;
</description>
        <pubDate>Wed, 19 Sep 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/09/19/python%E7%94%BB%E5%9B%BE%E7%A7%91%E6%8A%80.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/09/19/python%E7%94%BB%E5%9B%BE%E7%A7%91%E6%8A%80.html</guid>
        
        <category>信息竞赛</category>
        
        <category>python</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day3</title>
        <description>&lt;p&gt;NOI2018系列游记Day3。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;归程&lt;/h3&gt;

&lt;p&gt;回家了。&lt;/p&gt;

&lt;p&gt;一开始认真看了一下窗外的景象。&lt;/p&gt;

&lt;p&gt;还是与来时的描述有些许不同的。&lt;/p&gt;

&lt;p&gt;有的房子长得确实可爱！&lt;/p&gt;

&lt;p&gt;回去的路上教练也讲了接下来的安排。&lt;/p&gt;

&lt;p&gt;然后在群上发公告的时候……&lt;/p&gt;

&lt;p&gt;出现了一些问题！&lt;/p&gt;

&lt;p&gt;你们的公告有敏感词，发不出去！&lt;/p&gt;

&lt;p&gt;于是？&lt;/p&gt;

&lt;p&gt;于是我们开始分治。&lt;/p&gt;

&lt;p&gt;最后终于定位出了敏感词：&lt;/p&gt;

&lt;p&gt;……远程视频学习。）组长负责把……&lt;/p&gt;

&lt;p&gt;是“习。）组长”&lt;/p&gt;

&lt;p&gt;对的，估计是把所有标点去掉跑个AC自动机。&lt;/p&gt;

&lt;p&gt;我们甚至还在车上现场以这个为背景造了一个题。&lt;/p&gt;

&lt;p&gt;于是归程，也是启航。&lt;/p&gt;

&lt;p&gt;一切都开始了。&lt;/p&gt;
</description>
        <pubDate>Sun, 22 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/22/NOI2018%E6%B8%B8%E8%AE%B0Day3.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/22/NOI2018%E6%B8%B8%E8%AE%B0Day3.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day2.5</title>
        <description>&lt;p&gt;NOI2018系列游记Day2.5。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;笙歌散尽&lt;/h3&gt;

&lt;p&gt;早上是文艺汇演。&lt;/p&gt;

&lt;p&gt;然而变成了大型咕咕现场。&lt;/p&gt;

&lt;p&gt;前半个小时，台上空无一人。&lt;/p&gt;

&lt;p&gt;然后就变成了大型拉拉现场。&lt;/p&gt;

&lt;p&gt;突然开始放LL的视频。&lt;/p&gt;

&lt;p&gt;接着就陆续有选手上台唱歌了。&lt;/p&gt;

&lt;p&gt;wzt和chj都上了台。&lt;/p&gt;

&lt;p&gt;然而五音不全的我……&lt;/p&gt;

&lt;p&gt;当时甚至还想上台念诗，但是还是放弃了。&lt;/p&gt;

&lt;p&gt;毕竟一堆唱歌的里面混一个念诗很奇怪。&lt;/p&gt;

&lt;p&gt;而且我可能念得还不是很好。&lt;/p&gt;

&lt;p&gt;也罢。&lt;/p&gt;

&lt;p&gt;我觉得我可以准备一个中古汉语潘悟云拟音的念诗备着救场用。&lt;/p&gt;

&lt;p&gt;可能还要准备一个国际歌来在被钦点唱歌并且只能唱歌的时候救场用。&lt;/p&gt;

&lt;p&gt;最后还有大佬直播拍音游……&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;游人去&lt;/h3&gt;

&lt;p&gt;下午是闭幕式。&lt;/p&gt;

&lt;p&gt;音响效果感人。真是。声音巨大无比。&lt;/p&gt;

&lt;p&gt;然后看着一个个选手上台领取了奖牌。&lt;/p&gt;

&lt;p&gt;于是想起朱自清的荷塘月色里面那句——&lt;/p&gt;

&lt;p&gt;“热闹是他们的，我什么也没有。”&lt;/p&gt;

&lt;p&gt;毕竟是D类Ag线选手。没人权也是正常的。&lt;/p&gt;

&lt;p&gt;于是在这一刻，我意识到我其实是一个旁观者，前几日似乎我很融入其中，但是最后一刻，我还是要被从这一切中剥离出来。&lt;/p&gt;

&lt;p&gt;对，像一把游戏，不是么？&lt;/p&gt;

&lt;p&gt;我也许也可以念MInecraft的终末之诗。&lt;/p&gt;

&lt;p&gt;最后在拍照的时候教练还是让同校一个Ag的同学把他的牌子借给了我拍。&lt;/p&gt;

&lt;p&gt;有一种奇妙的感受。&lt;/p&gt;

&lt;p&gt;特别是当你一算，发现你只需要在半年多一前的那一场NOIP中不要把n和m打反就可以拿到一块一样的牌子的时候？&lt;/p&gt;

&lt;p&gt;或者你只要在省选的Day1把那个计算几何写出来也行？&lt;/p&gt;

&lt;p&gt;或者你只要在省选的Day2把那个线段树合并调出来也行？&lt;/p&gt;

&lt;p&gt;不过我原本也并没有打算在这个时候拿到这样的一块牌子……&lt;/p&gt;

&lt;p&gt;对，对，我想起了这个游戏，叫作史丹利的寓言。&lt;/p&gt;

&lt;p&gt;“当史丹利来到打开的两扇门前，他走进了左边的门。”&lt;/p&gt;

&lt;p&gt;“当史丹利……”&lt;/p&gt;

&lt;p&gt;旁白会在你作出每一次选择的时候告诉你要怎么办。&lt;/p&gt;

&lt;p&gt;而你按照旁白的做就会顺利逃出生天。&lt;/p&gt;

&lt;p&gt;可是这个结局的名字叫做假结局。&lt;/p&gt;

&lt;p&gt;如果你不听从旁白的建议，你会发现一些其他的结局。&lt;/p&gt;

&lt;p&gt;那么我呢？&lt;/p&gt;

&lt;p&gt;简直是史丹利的预言。&lt;/p&gt;

&lt;p&gt;好，好，这个世界就是这样。&lt;/p&gt;

&lt;p&gt;人和人相互影响。&lt;/p&gt;

&lt;p&gt;每个人都在把他身边的人改造成他希望的样子。&lt;/p&gt;

&lt;p&gt;每个人都在被他身边的人改造成那些人希望的样子。&lt;/p&gt;

&lt;p&gt;是，是，的确是，人类的本质是复读机。&lt;/p&gt;

&lt;p&gt;是镜子。&lt;/p&gt;

&lt;p&gt;这边的人摆手，那边的人便也想摆手。&lt;/p&gt;

&lt;p&gt;那边的人点头，这边的人即也欲点头。&lt;/p&gt;

&lt;p&gt;这是看元白那一唱一和的诗时想到的。&lt;/p&gt;

&lt;p&gt;扯远了。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;打隔膜&lt;/h3&gt;

&lt;p&gt;“不能玩游戏。”&lt;/p&gt;

&lt;p&gt;为什么呢？&lt;/p&gt;

&lt;p&gt;要努力。&lt;/p&gt;

&lt;p&gt;我欣然接受了。&lt;/p&gt;

&lt;p&gt;我学习语言与语言学好了，反正同样有趣。&lt;/p&gt;

&lt;p&gt;毕竟一个人如果一直不停做一件事情，那我想大多数情况下不管他多喜欢这件事情都要厌烦。&lt;/p&gt;

&lt;p&gt;“跟信息学竞赛或者文化课有没有关系？没有的话放一放。等到大学的时候再学。”&lt;/p&gt;

&lt;p&gt;那我就刷维基。我就学量子计算。&lt;/p&gt;

&lt;p&gt;“跟信息学竞赛或者文化课有没有直接的联系？没有的话放一放。”&lt;/p&gt;

&lt;p&gt;“你现在的时间是停课换来的，有时间看这些不如念文化课。”&lt;/p&gt;

&lt;p&gt;对，要努力，可是你会发现人生似乎一定要有娱乐项目，不同于职业的。&lt;/p&gt;

&lt;p&gt;没有别的娱乐，剩下的东西就是战争和革命。玩命。&lt;/p&gt;

&lt;p&gt;这是我从历史里看出的，不知道对不对。&lt;/p&gt;

&lt;p&gt;于是开始了效率低下的全日制学习。&lt;/p&gt;

&lt;p&gt;其间如果统计一下刷QQ的时间，我们可能会惊异地发现这花掉的时间跟之前花掉的差不多。&lt;/p&gt;

&lt;p&gt;但是刷QQ学到的知识显然没有干之前那些事情高。&lt;/p&gt;

&lt;p&gt;但是我居然没有再收到建议。&lt;/p&gt;

&lt;p&gt;我现在突然意识到。&lt;/p&gt;

&lt;p&gt;这是旁白。&lt;/p&gt;

&lt;p&gt;不过我承认，游戏获取知识的效率很低下，不比QQ高。&lt;/p&gt;

&lt;p&gt;更多的时候，这是一个像我这样无趣的人试图融入群体的一种方式。&lt;/p&gt;

&lt;p&gt;不管怎么说，我高一下还是接了欧二外的offer。&lt;/p&gt;

&lt;p&gt;这样游戏就完全没有用处了。&lt;/p&gt;

&lt;p&gt;希望高二能够提升一下跟人相处的能力吧。&lt;/p&gt;

&lt;p&gt;扯得更远了。&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;夜&lt;/h3&gt;

&lt;p&gt;空调不知道为什么关了。&lt;/p&gt;

&lt;p&gt;热得要命。&lt;/p&gt;

&lt;p&gt;很惨。一直到半夜都睡不着。&lt;/p&gt;

&lt;p&gt;火星就要大冲了。那个红点呵。&lt;/p&gt;
</description>
        <pubDate>Sat, 21 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/21/NOI2018%E6%B8%B8%E8%AE%B0Day2.5.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/21/NOI2018%E6%B8%B8%E8%AE%B0Day2.5.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day2</title>
        <description>&lt;p&gt;NOI2018系列游记Day2。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;二试&lt;/h3&gt;

&lt;p&gt;第一个题。是个裸的同余方程组题。&lt;/p&gt;

&lt;p&gt;大概这就是出题组说的“比D1T1简单”的题吧。&lt;/p&gt;

&lt;p&gt;可是我不这么觉得。&lt;/p&gt;

&lt;p&gt;考场上现场发明exgcd，现场发明中国剩余定理，对拍各种挂……&lt;/p&gt;

&lt;p&gt;哦对，还要判零。&lt;/p&gt;

&lt;p&gt;好在最后还是A了这道题。&lt;/p&gt;

&lt;p&gt;T2看见“TAC”，就打了个30分暴力。&lt;/p&gt;

&lt;p&gt;T3时间不是很够，也打了个暴力。&lt;/p&gt;

&lt;p&gt;最后就150大众分滚粗了。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;高校宣讲&lt;/h3&gt;

&lt;p&gt;给我印象最深的是北航的老师，讲得真的非常好。信息接收率非常高。听有的学校，就是从头到尾都是“我们是985，我们是211，我们是双一流……”云云，实在可谓是“看起来很有用的废话”。但是北航的宣讲就很亲切，不至于有着高高的架子，讲着令人生厌的套话，而是充分展现了他们学校真正的优势。&lt;/p&gt;

&lt;p&gt;当然，清华的老师讲得也很不错。下面引用一段话（根据记忆还原，可能有疏漏）&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“我15年前也跟你们一样，是一名参加NOI的选手。我当时也有在听高校的宣讲，当时有清华的吴文虎老师在讲，他讲，他参加高考，考到了清华大学的分数线。那个时候还没有计算机科学专业，我们叫自动化专业。他曾经听说列宁讲过，社会主义到了电气化的时代，就离共产主义不远了。于是他就报了这个自动化专业。还有北大的老师在讲，他讲他在大学校园里面玩，溜冰之类的，很有意思。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;共产vs溜冰&lt;/p&gt;

&lt;p&gt;这一波黑得我给满分。&lt;/p&gt;

&lt;p&gt;最后晚上划了一个晚上的水。&lt;/p&gt;
</description>
        <pubDate>Fri, 20 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/20/NOI2018%E6%B8%B8%E8%AE%B0Day2.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/20/NOI2018%E6%B8%B8%E8%AE%B0Day2.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day1.5</title>
        <description>&lt;p&gt;NOI2018系列游记Day1.5。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;社会活动&lt;/h3&gt;

&lt;p&gt;去的是韶山。&lt;/p&gt;

&lt;p&gt;想起昨天的话。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;圣人不死，大盗不止。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;吾不言。&lt;/p&gt;

&lt;p&gt;参观了毛主席纪念馆，本来还要参观故居的，然而太热了，我们就咕掉去了酒店……&lt;/p&gt;

&lt;p&gt;中午的菜比较一般（相对于平时在酒店吃的菜）。&lt;/p&gt;

&lt;p&gt;然后返程。&lt;/p&gt;

&lt;p&gt;下午睡了一整天。&lt;/p&gt;

&lt;p&gt;可以说是很平凡的一天了。&lt;/p&gt;

&lt;p&gt;其实也不平凡……&lt;/p&gt;

&lt;p&gt;吾不言。&lt;/p&gt;
</description>
        <pubDate>Thu, 19 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/19/NOI2018%E6%B8%B8%E8%AE%B0Day1.5.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/19/NOI2018%E6%B8%B8%E8%AE%B0Day1.5.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day1</title>
        <description>&lt;p&gt;NOI2018系列游记Day1。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;六点&lt;/h3&gt;

&lt;p&gt;哨声。&lt;/p&gt;

&lt;p&gt;以及一声锐利的“起床啦——”&lt;/p&gt;

&lt;p&gt;于是睡眠不足。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;一试&lt;/h3&gt;

&lt;p&gt;第一个题很快想出了可持久化并查集的做法。&lt;/p&gt;

&lt;p&gt;然后码调拍花了两个小时。&lt;/p&gt;

&lt;p&gt;打掉第二题44分暴力。&lt;/p&gt;

&lt;p&gt;回头测第一题极限数据，随机数据4.5s。&lt;/p&gt;

&lt;p&gt;TL=4s。&lt;/p&gt;

&lt;p&gt;把可持久化线段树的递归改成了非递归。&lt;/p&gt;

&lt;p&gt;user time 3.8s。&lt;/p&gt;

&lt;p&gt;把第一次跑Kruskal的时候的并查集从可持久化线段树上卸了下来。&lt;/p&gt;

&lt;p&gt;user time 3.0s。&lt;/p&gt;

&lt;p&gt;来不及写第三个题。&lt;/p&gt;

&lt;p&gt;144滚粗预定。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;回音&lt;/h3&gt;

&lt;p&gt;在群上看到第一个题读入的地方卡int。&lt;/p&gt;

&lt;p&gt;顿时一惊。我好像更惨了。&lt;/p&gt;

&lt;p&gt;好在很快出题人说他没卡……&lt;/p&gt;

&lt;p&gt;第三题是SAM板子题，大家都会。&lt;/p&gt;

&lt;p&gt;真的滚粗了。&lt;/p&gt;

&lt;p&gt;不过既然是D类，其实，在两三个月之前我已经滚粗了。&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;圣人&lt;/h3&gt;

&lt;p&gt;在雅洋的食堂北墙上看到了一排的人物和介绍。&lt;/p&gt;

&lt;p&gt;从西向东按顺序分别是：&lt;/p&gt;

&lt;p&gt;马克思/哥伦布/牛顿/爱迪生/孔子/达尔文/耶稣/爱因斯坦。&lt;/p&gt;

&lt;p&gt;我觉得把这些人放在一起，很有意思。&lt;/p&gt;

&lt;p&gt;不由得想起一句话。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;圣人不死，大盗不止。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;吾不言。&lt;/p&gt;
</description>
        <pubDate>Wed, 18 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/18/NOI2018%E6%B8%B8%E8%AE%B0Day1.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/18/NOI2018%E6%B8%B8%E8%AE%B0Day1.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day0.5</title>
        <description>&lt;p&gt;NOI2018系列游记Day0.5。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;插曲&lt;/h3&gt;

&lt;p&gt;前一天晚上，刚睡下去，却被一阵喧闹吵醒。&lt;/p&gt;

&lt;p&gt;是舍管要求所有换了房间的人换回去。&lt;/p&gt;

&lt;p&gt;十点熄灯，这么晚熄灯就算了，你们还在十点半吵醒人。&lt;del&gt;是不是想杀了我啊！&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;（不行，要保持良好形象，不能说这种暴力的话。）&lt;/p&gt;

&lt;p&gt;最后当晚大家还是没有换宿舍。&lt;/p&gt;

&lt;p&gt;这一天早上，想要冲咖啡，结果倒完咖啡粉发现按下开水按钮出来的水是冷的……&lt;/p&gt;

&lt;p&gt;凉凉。&lt;/p&gt;

&lt;p&gt;不过好的事情是，早上去阳台的时候看见两栋宿舍间不知道什么树上的花开了，粉色的一团一团给阳光照着，甚是可爱。还有一种树叶呈现紫红色的树，也来这里增添色彩。什么东西到了阳光底下都要变得明亮而鲜活，于是一块逼仄的地方就有了许多种鲜亮的光泽。&lt;/p&gt;

&lt;p&gt;对，出了门，阳光照下来的那一刻，我觉得大概我也变得明亮而鲜活。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;笔试与试机&lt;/h3&gt;

&lt;p&gt;笔试试机的时间被和开幕式对调了。&lt;/p&gt;

&lt;p&gt;笔试简单得很。十分钟穿掉不是什么难事。&lt;/p&gt;

&lt;p&gt;题目示例（可能与原题有所不符，但精神上类似）：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果程序在运行过程中超出内存限制，那么__$1__&lt;/p&gt;

  &lt;p&gt;Selection 1:&lt;/p&gt;

  &lt;p&gt;A. 程序无法正常运行，该测试点得满分。&lt;/p&gt;

  &lt;p&gt;B. 程序无法正常运行，该测试点得零分。&lt;/p&gt;

  &lt;p&gt;C. 程序可以正常运行，该测试点得零分。&lt;/p&gt;

  &lt;p&gt;D. 程序无法正常运行，该测试点得一半分数。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;唔。&lt;/p&gt;

&lt;p&gt;接着是试机。试验了一下Gedit的外挂shell功能能不能用，写了个a+b，然后玩了一两个小时的python画图。&lt;/p&gt;

&lt;p&gt;画图的内容主要是根据牛顿迭代的次数和结果对复平面上的点进行上色。迭代到不同的解上不同的颜色，迭代次数越多上的颜色越深。&lt;/p&gt;

&lt;p&gt;一开始画的是很特殊的多项式 $f(x)=x^5-1$ （这是从维基百科上看来的，似乎是条目“吸引子”里的，要么就是什么关系很近的条目）。这只是为了测试一下画图能不能用。接着试了一些平凡的多项式（多项式用它的各个根给出，最前面的系数为1，毕竟这里系数不是很重要），效果并不理想，画出来的图形都很难看。于是测试了一些特殊的东西——比如说，在等边三角形上取三个顶点和三个中点作为根。画出来的图形就漂亮了很多。然而因为配色是随便上的，所以还是有点糟糕。懒得调配色了，于是就回了宿舍。&lt;/p&gt;

&lt;p&gt;结果发现没有WiFi，又要出门。&lt;/p&gt;

&lt;p&gt;呜呼！WiFi与空调不可兼得……&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;开幕式&lt;/h3&gt;

&lt;p&gt;拉德茨基进行曲、红旗颂、Hot Chocolate……&lt;/p&gt;

&lt;p&gt;热。&lt;/p&gt;

&lt;p&gt;毕竟杜子德都说了：“太热了，不讲了。”&lt;/p&gt;

&lt;p&gt;气氛也是很火热的。毕竟大家一起尬就不尬了。&lt;/p&gt;

&lt;p&gt;我怀疑这是广东省队的阴谋，他们只想吃清蒸福建人……&lt;/p&gt;

&lt;p&gt;啊，对，明年NOI，广州，希望不要被吃掉……&lt;/p&gt;

&lt;p&gt;然后大家一起在下面拍了照，就去吃饭。冷饮和瓜真的非常好评。吹爆绿豆冰沙。&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;天空的颜色&lt;/h3&gt;

&lt;p&gt;吃完晚饭。&lt;/p&gt;

&lt;p&gt;实在不想去阅览室——太热。&lt;/p&gt;

&lt;p&gt;也不想回宿舍——没网。&lt;/p&gt;

&lt;p&gt;于是在外面到处转悠（真的，外面要比阅览室凉快，尤其是风吹过来的时候），一点一点数着天空的颜色……&lt;/p&gt;

&lt;p&gt;一开始是西方呈现出黄色而东方与天顶呈现出蓝色。中间用很浅的灰绿色过渡过去。然后西方一点一点转成橙色，然后转成朱红。整个天由蓝色慢慢转向蓝灰色。其间在北方靠近地平线的位置是紫色。&lt;/p&gt;

&lt;p&gt;过了一会儿，太阳终于要完全失去它的光亮了。西方的天空从下往上是从红色到青色再到蓝灰（靠近地平线的云有一丝红紫），顺序像彩虹一样排布，但不如彩虹鲜亮。这时候，月亮和金星已经很明显地挂在西天蓝灰的背景下了，南边的木星和土星也清晰可见。努力看看，可以依稀辨别出大角以及心宿二。&lt;/p&gt;

&lt;p&gt;Heavens-above告诉我八点有一个人造卫星过境，于是就看了看。最大亮度0.7，在天还没有完全暗下来的时候隐约能看见一个光点划过东天。&lt;/p&gt;

&lt;p&gt;然后后面到九点为止还有四个人造卫星。&lt;/p&gt;

&lt;p&gt;于是先回宿舍休息，然而一进空调房就不想出去了orz……&lt;/p&gt;

&lt;p&gt;在空间里面也看到了几张ycy拍的福州的照片：夕阳以一个微妙的角度从地平线下射上来，打在灰色的积云上，把积云的底部染成橙色或者红色，十分炫酷。&lt;/p&gt;

&lt;p&gt;早晨和傍晚总是色彩最丰富的时候。&lt;/p&gt;

&lt;p&gt;然而这么多的色彩放在一起，居然很协调。&lt;/p&gt;

&lt;p&gt;不由得想起今天上午配色失败的例子。&lt;/p&gt;

&lt;p&gt;C’est la nature.&lt;/p&gt;
</description>
        <pubDate>Tue, 17 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/17/NOI2018%E6%B8%B8%E8%AE%B0Day0.5.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/17/NOI2018%E6%B8%B8%E8%AE%B0Day0.5.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>NOI2018游记Day0</title>
        <description>&lt;p&gt;NOI2018系列游记Day0。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;灰白蓝&lt;/h3&gt;

&lt;p&gt;福州，天空阴沉，看不出一点早晨的样子。&lt;/p&gt;

&lt;p&gt;天上的江河与漩涡凝为钢铁和玻璃。&lt;/p&gt;

&lt;p&gt;地上的钢铁和玻璃流成江河与漩涡。&lt;/p&gt;

&lt;p&gt;于是夹杂在被醒目的黄白栅栏分成东西两股的不绝流动的钢铁和玻璃中。回头看不到这股洪流从哪里来，向前也看不到这股洪流到哪里为止。&lt;/p&gt;

&lt;p&gt;好在时间没有算得太离谱，及时赶到了火车站，搭上高铁。&lt;/p&gt;

&lt;p&gt;似乎到处铁路沿线的风景都是一样的，只要不是在漆黑的隧道里，那就要么是离离两岸夹流水，桥梁跨江过；要么是茫远青山断平野，农户散其间；偶尔能看到一点城市的样子，又或者，更多的也许是什么“铁路经济试验区”，摆着一堆建造到一半的楼房设施一类，满眼都是除去了植物的翻过的暴露的赭红的土壤。唯有窗外的的天晦明变化，但也不外乎蓝白灰三种颜色……&lt;/p&gt;

&lt;p&gt;真的没有不同么！&lt;/p&gt;

&lt;p&gt;我觉得是有的。我回去的时候一定要认真看看。&lt;/p&gt;

&lt;p&gt;看不出不同，大约是在车上背笔试题的缘故。使用了Anki，感觉确实很不错，比起拿着纸质材料盯着看效率要高许多。同时还发现了坐在隔壁的E.Space声称自己背好了笔试，然而一考，却是一问三不知，连忙也帮他复习了一下笔试。&lt;/p&gt;

&lt;p&gt;中午在车上睡了一觉，下午便到了长沙。长沙也甚炎热，和福州要不相上下——尤其是蓝天白云，衬得阳光更为耀眼。尤其是我们被闷在车库排队安检上车的时候，好像是两股力量在相抗争，一个要把自己身上的水挤出来，一个要把自己身上的水压回去……到了学校，便好了许多（毕竟有空调）。&lt;/p&gt;

&lt;p&gt;宿舍是三人间，原是按照省选排名安排的，各个学校都被打散了。一阵重排以后，我作为我们学校四个人中唯一的高一选手，也是唯一的D，自然就被排得混进了其它学校。在宿舍划了一阵水，眼看饭点要到了，于是出门吃饭——食堂门口大排长龙，未到饭点没有开饭。转进作为休息室的学生书吧，遍历了一遍书籍，突然一本书让我一震：这是江本胜的书《水知道答案》。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;《水知道答案》&lt;/h3&gt;

&lt;p&gt;你说谁知道答案？&lt;/p&gt;

&lt;p&gt;江本胜的《水知道答案》，可谓是最出名的民科大作之一了。最早读到这本书的时候是在少儿图书馆。当时很震惊，我都不知道答案的事情，水怎么知道答案？欣喜，悲哀，热爱，憎恨，感谢，复仇，帮助，霸凌，这是算不透的人心，至少是我，一只由各种不那么简单的碳基有机物组合而成的生物，算不透的。然后，你告诉我，一群由氢和氧构成的完全相同的分子能够感知并领会这一切……&lt;/p&gt;

&lt;p&gt;然而现在看着这本书上精美的插图，脑子里只有两个念头：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;插图真漂亮。&lt;/li&gt;
  &lt;li&gt;怀疑是每个人都必须要有的技能。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;不知道这样的书怎么还会在这里出现。怕不是学校按照什么不是很好的书单买了书，然后就把这本书放在了这里。&lt;/p&gt;

&lt;p&gt;但是人心究竟怎么算……算不透。&lt;/p&gt;

&lt;p&gt;于是只好按着自己的来算。己所不欲，勿施于人。欲加指责，先省己身。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;晚饭与彩排&lt;/h3&gt;

&lt;p&gt;伙食很好。（40元一人的餐标能不好么……）&lt;/p&gt;

&lt;p&gt;彩排开始了。听完主持人介绍流程，我可以完全确定的事情是，这是把几百号人放在一起，互相公开处刑。&lt;/p&gt;

&lt;p&gt;流程大概是这样的：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;主持人喊出“XX代表队”，该省代表队即起立，大屏幕上会出现省队中每个人的&lt;strong&gt;证件照&lt;/strong&gt;，接着该队伍向着大屏幕挥手，相机指向该队伍，队伍被投放在大屏幕上。然后该队伍喊出他们事先准备好的口号。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;证件照。&lt;/p&gt;

&lt;p&gt;就不能提前跟我们说说，我们修修图啊……&lt;/p&gt;

&lt;p&gt;福建的口号是什么？&lt;/p&gt;

&lt;p&gt;“超越极限，超越自我，不鸣则已，一鸣惊人。”&lt;/p&gt;

&lt;p&gt;哦对，后来还追加了一句“福建加油”。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;超越极限，超越自我，不鸣则已，一鸣惊人。福建加油！&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;五个土味四字短句，两两不押韵。&lt;/p&gt;

&lt;p&gt;而且超越极限翻译成英文就是limit exceeded。&lt;/p&gt;

&lt;p&gt;大吉大利！&lt;/p&gt;

&lt;p&gt;我真是……&lt;/p&gt;

&lt;p&gt;不过我似乎也没有资格指责他们。毕竟我自己写的也很土味……&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;赫赫商宿起东南，锋芒乍现，青青子衿敢为天下先。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;啊……以五十步笑百步，何如？&lt;/p&gt;

&lt;p&gt;我觉得还是我旁边一个同学提的口号正经一点。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;三分天注定，六百九十七分靠打拼。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;嗯。&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;寝&lt;/h3&gt;

&lt;p&gt;寝。&lt;/p&gt;
</description>
        <pubDate>Mon, 16 Jul 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/07/16/NOI2018%E6%B8%B8%E8%AE%B0Day0.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/07/16/NOI2018%E6%B8%B8%E8%AE%B0Day0.html</guid>
        
        <category>信息竞赛</category>
        
        <category>NOI</category>
        
        
        <category>OI</category>
        
      </item>
    
      <item>
        <title>SI基本单位重定义</title>
        <description>&lt;p&gt;今年5月20号的时候看见SI要改基本单位定义的事情，于是跟物理社别的同学一起研究了一下……这次的重定义主题是“常量化”，新钦点了大量常数。然后千克原器这种玄学的东西终于可以从定义里面踢出去了qwq&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;定义不变的单位&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;秒&lt;/strong&gt;($\mathrm{s}$)：仍沿用现有的定义，一秒定义为铯133原子基态超精细能阶分裂辐射一个周期长度的 $9,192,631,770$ 倍。也就是说，我们钦点&lt;/p&gt;

&lt;p&gt;$^{133}\mathrm{Cs}$原子基态超精细能阶分裂辐射频率为 $\Delta v(^{133}\mathrm{Cs})_{\mathrm{hfs}}=9,192,631,770\mathrm{Hz}$。&lt;/p&gt;

&lt;p&gt;其中我们有 $\mathrm{Hz}=\mathrm{s^{-1}}$。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;米&lt;/strong&gt;($\mathrm{m}$)：仍沿用现有的定义，一米定义为真空中光在 $\frac{1}{299.792.458}\mathrm{s}$ 内通过的距离。也就是说，我们钦点&lt;/p&gt;

&lt;p&gt;真空光速为 $c=299,792,458\mathrm{m\cdot s^{-1}}$。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;坎德拉&lt;/strong&gt;($\mathrm{cd}$)：仍沿用现有的定义，一坎德拉定义为频率为 $540×10^{12}\mathrm{Hz}$ 的单色辐射光源（黄绿色可见光）发出在特定方向辐射强度为 $\frac{1}{683}$ 瓦特每球面度的光时的发光强度。也就是说，我们钦点&lt;/p&gt;

&lt;p&gt;频率为 $540×10^{12}\mathrm{Hz}$ 光辐射的发光效率为 $K_{\mathrm{cd}}=683 \mathrm{cd\cdot sr\cdot W^{-1}}$。&lt;/p&gt;

&lt;p&gt;其中我们有 $\mathrm{W}=\mathrm{J\cdot s^{-1}}=\mathrm{N\cdot m\cdot s^{-1}}=\mathrm{kg\cdot m^2\cdot s^{-3}}$。&lt;/p&gt;

&lt;p&gt;至于其它的频率？坎德拉是发光强度的单位，发光强度这个量的定义挺玄学的，它的定义采用了视见函数，实际上是跟人眼对不同波长光的敏感程度有关系的。视见函数怎么来？当然是找一堆人做实验测量……而 $540\times 10^{12} \text{Hz}$ 是人眼最敏感的波长，所以就拿到定义里来了。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;定义改变的单位&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;千克&lt;/strong&gt;($\mathrm{kg}$)：现有的原定义是一千克定义为国际千克原器的质量。将被改用普朗克常数定义。我们钦点&lt;/p&gt;

&lt;p&gt;普朗克常数为 $h=6.626,070,15\times10^{-34}\mathrm{J\cdot s}=6.626,070,15\times10^{−34} \mathrm{kg\cdot m^2\cdot s^{−1}}$。&lt;/p&gt;

&lt;p&gt;然后根据米和秒，结合普朗克常数，我们可以得到千克。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;开尔文&lt;/strong&gt;($\mathrm{K}$)：现有的原定义是一开尔文定义为水的三相点与绝对零度的温度差的 $\frac{1}{273.16}$。将被改用玻尔兹曼常数定义。我们钦点&lt;/p&gt;

&lt;p&gt;玻尔兹曼常数为 $k=1.380,649\times 10^{–23}\mathrm{J/K}$。&lt;/p&gt;

&lt;p&gt;这样根据米、秒和千克，我们可以得到焦耳，再结合玻尔兹曼常数，我们可以得到开尔文。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;摩尔&lt;/strong&gt;($\mathrm{mol}$)：现有的原定义是 $12\mathrm{g}^{12}\mathrm{C}$ 含有的原子个数。将被改用阿伏伽德罗常数定义。我们钦点&lt;/p&gt;

&lt;p&gt;阿伏伽德罗常数为 $N_{\mathrm{A}}=6.022,140,76\times 10^{23}\mathrm{mol^{–1}}$。&lt;/p&gt;

&lt;p&gt;也就是说，含有阿伏伽德罗常数个粒子的物质的量为一摩尔。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;安培&lt;/strong&gt;($\mathrm{A}$)：现有的原定义是使真空中两根距离一米的横截面积可忽略不计的无限长直导线中处处通过大小相等的电流，当两根导线间的作用力为 $2\times10^{–7}\mathrm{N}$ 每米时，定义导线中的电流大小为一安培。将被改用基本电荷定义。我们钦点&lt;/p&gt;

&lt;p&gt;基本电荷为 $e=1.602,176,634\times 10^{–19}\mathrm{C}​$。&lt;/p&gt;

&lt;p&gt;同时，我们有 $\mathrm{C}=\mathrm{A\cdot s}$。我们就可以根据秒结合基本电荷得到安培。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;总结&lt;/h3&gt;

&lt;p&gt;用两张图来概括一下内容。（图来源：wikimedia commons，详见源码。）&lt;/p&gt;

&lt;p&gt;这一张是旧的单位之间的关系。箭头代表一个单位依赖另一个单位。&lt;/p&gt;

&lt;p&gt;&lt;a title=&quot;By Dono [CC BY-SA 3.0 (https://creativecommons.org/licenses/by-sa/3.0) or GFDL (http://www.gnu.org/copyleft/fdl.html)], from Wikimedia Commons&quot; href=&quot;https://commons.wikimedia.org/wiki/File:SI_base_unit.svg&quot;&gt;&lt;img width=&quot;512&quot; alt=&quot;SI base unit&quot; src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/SI_base_unit.svg/512px-SI_base_unit.svg.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;这一张是新的。可以看到，每个单位现在都依赖于一个常数，单位之间的关系也更密切了。&lt;/p&gt;

&lt;p&gt;&lt;a title=&quot;By Wikipetzi [GFDL (http://www.gnu.org/copyleft/fdl.html) or CC BY-SA 4.0 (https://creativecommons.org/licenses/by-sa/4.0)], from Wikimedia Commons&quot; href=&quot;https://commons.wikimedia.org/wiki/File:Relations_between_new_SI_units_definitions.png&quot;&gt;&lt;img width=&quot;512&quot; alt=&quot;Relations between new SI units definitions&quot; src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Relations_between_new_SI_units_definitions.png/512px-Relations_between_new_SI_units_definitions.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;总而言之，这一发改的还是挺科学的。千克原器终于退休了，一些类似于普朗克常数、玻尔兹曼常数或者阿伏伽德罗常数之类的重要常数也被定下来，不需要再天天纠结着对着一些实际的物质进行测量，使用更加方便了。&lt;/p&gt;

&lt;p&gt;同时可以看到，很多单位的定义也变得更抽象了，比如使用普朗克常数或是玻尔兹曼常数进行定义的千克和开尔文就难以再用一句简短的话表述它们在现实中的具体含义，而理解这两个单位也需要用到一些更复杂的物理知识。&lt;/p&gt;

&lt;p&gt;就是安培的定义改掉了，导致真空磁导率炸了而不再是常数了，这一点实在是可惜。这样电磁学的好多式子里的原来的常数也就都不再是常数了。啊……或许他们改这一发有他们的考量吧。毕竟如果心疼常数的话可以选择使用自然单位制，SI还是主要要考虑到实际运用中的精度等问题。&lt;/p&gt;

&lt;p&gt;参考资料：&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bipm.org/en/measurement-units/&quot;&gt;BIMP给出的现有定义（英语）&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bipm.org/en/measurement-units/rev-si/#communication&quot;&gt;BIMP给出的可能的新定义（英语）&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 23 Jun 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/06/23/SI%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D%E9%87%8D%E5%AE%9A%E4%B9%89.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/06/23/SI%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D%E9%87%8D%E5%AE%9A%E4%B9%89.html</guid>
        
        <category>自然科学</category>
        
        <category>单位与量纲</category>
        
        
        <category>science</category>
        
      </item>
    
      <item>
        <title>神奇的编译器除法优化</title>
        <description>&lt;p&gt;写了个题（有-O2），然后为了刷常数开始读汇编，发现int的取模操作需要判断符号位，会多好几个汇编语句，于是改成了unsigned，果然快了一些。但是我又瞟了一眼代码，突然看见一个奇怪的magic number。我突然意识到，编译时真正的玄妙之处不在这里……我看了半天，才从字缝里看出字来，原来满屏幕写的是两个字“优化”！&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;化除为乘&lt;/h3&gt;

&lt;p&gt;众所周知，除法是一个很慢的东西。要是能规避除法，就太好啦。&lt;/p&gt;

&lt;p&gt;如果没有特殊说明，以下的变量类型都会是unsigned int，这样不用考虑符号位会比较方便。实际上，如果是int，编译器也会做类似的优化，只不过它会多判断一下符号位。&lt;/p&gt;

&lt;p&gt;考虑以下代码&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;	&lt;span class=&quot;cp&quot;&gt;#include&amp;lt;bits/stdc++.h&amp;gt;
&lt;/span&gt;	&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100007&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%u&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;可以看到，这里需要计算许多的模运算。来看看模运算在汇编里会是怎么实现的——&lt;/p&gt;

&lt;p&gt;假设我们求的是 $a\ \text{mod}\ b$,其中a已经被挪到寄存器%eax里，b已经被挪到寄存器%ebx里了。最终我们的目的是把商放进寄存器%eax里。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;divl	%ebx
movl	%edx, %eax
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这里调用了div指令。div指令是除法指令，它会同时计算除法的商和余数，并把除法得到的余数放在寄存器%edx里，接着只要搬到%eax里就好。&lt;/p&gt;

&lt;p&gt;所以说如果使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;g++ a.cpp -S -o a.s &lt;/code&gt; 你会得到如下汇编（这里仅贴出main函数到print以前的部分）&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;main:
.LFB3609:
	.cfi_startproc
	pushq	%rbp
	.cfi_def_cfa_offset 16
	.cfi_offset 6, -16
	movq	%rsp, %rbp
	.cfi_def_cfa_register 6
	subq	$16, %rsp
	movl	$0, -12(%rbp)
	movl	$3, -8(%rbp)
	movl	$100007, -4(%rbp)
.L3:
	cmpl	$300000000, -8(%rbp)
	ja	.L2
	movl	-8(%rbp), %eax
	movl	$0, %edx
	divl	-4(%rbp)
	movl	%edx, %eax
	xorl	%eax, -12(%rbp)
	addl	$3, -8(%rbp)
	jmp	.L3
.L2:
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;也就是说，它忠实地逐字逐句地翻译了一切你写的代码，翻译成人话大概是这样：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;在栈里申请三个变量：
	第一个初值设为0，相对栈顶位移为-12；
	第二个初值设为3，相对栈顶位移为-8；
	第三个初值设为100007，相对栈顶位移为-4。
设定标签L3。
	如果第二个变量比300000000大了，跳转到标签2，也就是退出循环。
	把第二个变量挪到寄存器%eax里面。
	把寄存器%edx清零。
	把第三个变量执行“除”操作。
	把“除”操作放在%edx里面的余数搬到%eax里面。
	让第一个变量xor上%eax里面的东西。
	让第二个变量+3。
	跳转到标签L3。
设定标签L2。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;但是当你开了-O2，使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;g++ a.cpp -O2 -S -o a.s &lt;/code&gt; ，情况就大有不同。&lt;/p&gt;

&lt;p&gt;汇编代码会长成这样：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;main:
.LFB3712:
	.cfi_startproc
	movl	$3, %ecx
	xorl	%esi, %esi
	movl	$-1480414547, %edi
	.p2align 4,,10
	.p2align 3
.L2:
	movl	%ecx, %eax
	mull	%edi
	movl	%ecx, %eax
	addl	$3, %ecx
	shrl	$16, %edx
	imull	$100007, %edx, %edx
	subl	%edx, %eax
	xorl	%eax, %esi
	cmpl	$300000003, %ecx
	jne	.L2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;于是你惊奇地发现居然div操作不见了。它用了一些右移、乘法和减法实现了模运算。&lt;/p&gt;

&lt;p&gt;让我们把它翻译成人话。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;把寄存器%ecx赋值为3。
	实际上，这里的%ecx是一个寄存器变量，它相当于源代码中的i。
	以下我们会用i称呼它。
把寄存器%esi清零。（自己xor上自己当然是清零啦）
	实际上，这里的%esi是一个寄存器变量，它相当于源代码中的s。
	以下我们会用s称呼它。
把寄存器%edi赋值为-1480414547。
	也就是二进制的0b10100111110000101010101010101101。
	这是编译器算出的一个magic number。
	以下我们会用m称呼它。
定义标签L2。
	把i挪到%eax里。
	把%eax乘上m。
		注意：像这样的32位乘法的运算中：
			低32位会被放到%eax里；
			高32位不会被立即丢弃，而会被放到%edx里。
	把i挪到%eax里。（因为%eax刚被乘法洗了）
	i+=3。
	把%edx的东西右移16位，再乘上100007。
	把%eax减去%edx。
	把s给xor上%eax。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;尽管翻译成了人话。但是还是看不懂系列……尤其是那个奇怪的数字是什么东西啊喂！&lt;/p&gt;

&lt;p&gt;它在干什么呢？&lt;/p&gt;

&lt;p&gt;显然，%edi中的神奇数字是一个非常关键的突破口。&lt;/p&gt;

&lt;p&gt;我们把它化为unsigned类型，则有 $m=2814552749$。&lt;/p&gt;

&lt;p&gt;我们尝试把它乘上 $100007$。&lt;/p&gt;

&lt;p&gt;得到了 $281474976769243$。&lt;/p&gt;

&lt;p&gt;得到的数化为二进制，有：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0b1000000000000000000000000000000001110010011011011&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;它的从右往左第 $49$ 位是一个 $1$，接着是一堆的 $0$，接着是一些杂数。&lt;/p&gt;

&lt;p&gt;也就是说，它等于 $2^{48}+58587$。&lt;/p&gt;

&lt;p&gt;于是我们可以解释原理：&lt;/p&gt;

&lt;p&gt;那么一个数 $x$ 乘上 $m$ 的时候，记 $a=\left\lfloor\frac{x}{100007}\right\rfloor,b=x\ \text{mod}\ 100007$ 我们有&lt;/p&gt;

&lt;p&gt;$xm=(100007a+b)m=100007a\times m+b\times m$&lt;/p&gt;

&lt;p&gt;其中 $b\times m\le 100006\times 2814552749=281472162216494$。&lt;/p&gt;

&lt;p&gt;且 $100007a\times m=a\times (100007\times m)=a\times(2^{48}+58587)=a\times 2^{48}+58587a$。&lt;/p&gt;

&lt;p&gt;并且有 $58587a\le58587\times\left\lfloor\frac{2^{32}}{100007}\right\rfloor=2516077302$&lt;/p&gt;

&lt;p&gt;所以说最后我们有&lt;/p&gt;

&lt;p&gt;$ xm\le2^{48}a+2516077302+281472162216494=2^{48}a+281474678293796&amp;lt;2^{48}a+2^{48} $。&lt;/p&gt;

&lt;p&gt;所以 $\left\lfloor\frac{xm}{2^{48}}\right\rfloor\le \left\lfloor\frac{2^{48}a+281474678293796}{2^{48}}\right\rfloor=a$&lt;/p&gt;

&lt;p&gt;于是我们就用一个乘法和一个位移运算手动规避了除法……&lt;/p&gt;

&lt;p&gt;对于其它的模数，我们也可以做同样的事情。只要构造出一个满足上面的性质的数字就好了。随手敲了几个数字，事实证明编译器都能帮你算出这么个数字。&lt;/p&gt;

&lt;p&gt;也太可怕了吧！&lt;/p&gt;

&lt;p&gt;然后我们就得到了 $\left\lfloor\frac{x}{100007}\right\rfloor$。&lt;/p&gt;

&lt;p&gt;接着把它乘上 $100007$，再拿 $x$ 去减它，就是 $x-100007\left\lfloor\frac{x}{100007}\right\rfloor=x\ \text{mod}\ 100007$。&lt;/p&gt;

&lt;p&gt;于是我们就成功规避了除法操作！&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;那我能不能拿这个出卡常题？&lt;/h3&gt;

&lt;p&gt;醒醒，您要先能在代码里访问得了储存溢出的高位的那个寄存器%edx再说……&lt;/p&gt;

&lt;p&gt;什么你拿unsigned long long来存？&lt;/p&gt;

&lt;p&gt;亲测变慢……六十四位乘法可不是算着玩的。&lt;/p&gt;

&lt;p&gt;也许内嵌汇编可以，但是比赛又不允许，反正现在大部分编译器有-O2，也许我们应该做的，就是尽量关心一些编译器，多配合编译器，能讲清楚的尽量讲清楚，例如把能开成常量的东西开成常量，让编译器充分优化……&lt;/p&gt;
</description>
        <pubDate>Mon, 11 Jun 2018 00:00:00 +0800</pubDate>
        <link>https://alphagem.github.io/2018/06/11/%E7%A5%9E%E5%A5%87%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8%E9%99%A4%E6%B3%95%E4%BC%98%E5%8C%96.html</link>
        <guid isPermaLink="true">https://alphagem.github.io/2018/06/11/%E7%A5%9E%E5%A5%87%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8%E9%99%A4%E6%B3%95%E4%BC%98%E5%8C%96.html</guid>
        
        <category>信息竞赛</category>
        
        <category>电脑操作</category>
        
        <category>编译原理</category>
        
        
        <category>OI</category>
        
        <category>computer</category>
        
      </item>
    
  </channel>
</rss>
